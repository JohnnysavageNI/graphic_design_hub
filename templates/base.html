{% load static %}
<!doctype html>
<html lang="en">
<head>
  {% block meta %}
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Professional graphic design services tailored to your brand. Logos, posters, social media, and more â€” made simple.">
    <meta name="keywords" content="graphic design, logo design, branding, posters, social media graphics, ireland design services">
  {% endblock %}

  {% block extra_meta %}{% endblock %}

  {% block corecss %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato&display=swap">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
  {% endblock %}

  {% block corejs %}
    <script src="https://kit.fontawesome.com/3348633986.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://js.stripe.com/v3/"></script>
  {% endblock %}

  {% block extra_js %}{% endblock %}

  <title>Graphic Design Hub {% block extra_title %}{% endblock %}</title>
</head>
<body class="d-flex flex-column min-vh-100">
<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
      <a class="navbar-brand logo-font" href="{% url 'home' %}">
        <strong>Graphic Design</strong> Hub
      </a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMenu"
              aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarMenu">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a class="nav-link" href="{% url 'service_list' %}">Services</a></li>

          {% if request.user.is_authenticated %}
            {% if request.user.is_superuser %}
              <li class="nav-item"><a class="nav-link" href="{% url 'admin:index' %}">Admin</a></li>
            {% endif %}
            {% if request.user.is_authenticated and not request.user.is_superuser %}
              <li class="nav-item"><a class="nav-link" href="{% url 'accounts:profile' %}">My Profile</a></li>
            {% endif %}
            <li class="nav-item"><a class="nav-link" href="{% url 'account_logout' %}">Logout</a></li>
          {% else %}
            <li class="nav-item"><a class="nav-link" href="{% url 'account_signup' %}">Register</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'account_login' %}">Login</a></li>
          {% endif %}

          <li class="nav-item position-relative" id="cart-link-wrap">
            <a href="{% url 'view_cart' %}" class="nav-link" id="cart-link">
              <i class="fas fa-shopping-bag"></i>
              {% if grand_total %} ${{ grand_total|floatformat:2 }} {% else %} $0.00 {% endif %}
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- Main content -->
<main role="main" class="flex-shrink-0">
  {% block page_header %}{% endblock %}
  {% block content %}{% endblock %}
</main>

{% block postloadjs %}
  <script src="{% static 'js/toasts.js' %}"></script>
  <script src="{% static 'js/messages.js' %}"></script>
{% endblock %}

{% if messages %}
  <div id="cart-toast-server" class="position-fixed p-3" style="top: 80px; right: 20px; z-index: 2000;">
    {% for message in messages %}
      {% if 'cart_toast' in message.tags %}
        <div class="toast-container mb-2">{{ message|safe }}</div>
      {% endif %}
    {% endfor %}
  </div>
{% endif %}

{% if messages %}
  <div id="auth-messages-data" class="d-none">
    {% for message in messages %}
      {% if not 'cart_toast' in message.tags %}
        <div class="auth-msg" data-level="{{ message.tags|default:'info'|escape }}">{{ message }}</div>
      {% endif %}
    {% endfor %}
  </div>
{% endif %}
<div id="auth-toast-root" aria-live="polite" aria-atomic="true"></div>
<div id="toast-root" aria-live="polite" aria-atomic="true"></div>

<!-- Footer -->
<footer class="footer mt-auto py-3 bg-cinematic text-white">
  <p class="m-0 text-center text-white">
    {% block copyright %}
      Graphic Design Hub - efficient and high quality service 
    {% endblock copyright %}
  </p>
  <p class="m-0 text-center text-white">
    Follow us:
    <a href="https://facebook.com" target="_blank" rel="nofollow" class="text-white ms-3">
      <i class="fab fa-facebook-square"></i>
    </a>
    <a href="https://twitter.com" target="_blank" rel="nofollow" class="text-white ms-3">
      <i class="fab fa-twitter-square"></i>
    </a>
    <a href="https://instagram.com" target="_blank" rel="nofollow" class="text-white ms-3">
      <i class="fab fa-instagram-square"></i>
    </a>
    <a href="https://youtube.com" target="_blank" rel="nofollow" class="text-white ms-3">
      <i class="fab fa-youtube-square"></i>
    </a>
  </p>
</footer>

</body>
</html>